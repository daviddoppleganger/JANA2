<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>JANA2: JMailbox&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">JANA2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_j_mailbox.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_j_mailbox-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">JMailbox&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for JMailbox&lt; T &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="class_j_mailbox__inherit__graph.png" border="0" usemap="#_j_mailbox_3_01_t_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="_j_mailbox_3_01_t_01_4_inherit__map" id="_j_mailbox_3_01_t_01_4_inherit__map">
<area shape="rect" id="node2" href="class_j_activable.html" title="Activable provides a way of propagating information about whether a particular item in the topology i..." alt="" coords="19,5,105,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for JMailbox&lt; T &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="class_j_mailbox__coll__graph.png" border="0" usemap="#_j_mailbox_3_01_t_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="_j_mailbox_3_01_t_01_4_coll__map" id="_j_mailbox_3_01_t_01_4_coll__map">
<area shape="rect" id="node2" href="class_j_activable.html" title="Activable provides a way of propagating information about whether a particular item in the topology i..." alt="" coords="19,5,105,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a94b5c7f1ad7614f804e732ff57bbda75"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>Status</b> { <br/>
&#160;&#160;<b>Ready</b>, 
<br/>
&#160;&#160;<b>Congested</b>, 
<br/>
&#160;&#160;<b>Empty</b>, 
<br/>
&#160;&#160;<b>Full</b>, 
<br/>
&#160;&#160;<b>Finished</b>
<br/>
 }</td></tr>
<tr class="separator:a94b5c7f1ad7614f804e732ff57bbda75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_class_j_activable"><td colspan="2" onclick="javascript:toggleInherit('pub_types_class_j_activable')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="class_j_activable.html">JActivable</a></td></tr>
<tr class="memitem:a2c763cd739ec4959b8425965865d58fd inherit pub_types_class_j_activable"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>Status</b> { <br/>
&#160;&#160;<b>Unopened</b>, 
<br/>
&#160;&#160;<b>Inactive</b>, 
<br/>
&#160;&#160;<b>Running</b>, 
<br/>
&#160;&#160;<b>Draining</b>, 
<br/>
&#160;&#160;<b>Drained</b>, 
<br/>
&#160;&#160;<b>Finished</b>, 
<br/>
&#160;&#160;<b>Closed</b>
<br/>
 }</td></tr>
<tr class="separator:a2c763cd739ec4959b8425965865d58fd inherit pub_types_class_j_activable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a746ed453e6fded608bee4a5a28474f32"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a746ed453e6fded608bee4a5a28474f32"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_mailbox.html#a746ed453e6fded608bee4a5a28474f32">JMailbox</a> (size_t threshold=100, size_t locations_count=1, bool enable_work_stealing=false)</td></tr>
<tr class="memdesc:a746ed453e6fded608bee4a5a28474f32"><td class="mdescLeft">&#160;</td><td class="mdescRight">threshold: the (soft) maximum number of items in the queue at any time domain_count: the number of domains enable_work_stealing: allow domains to pop from other domains' queues when theirs is empty <br/></td></tr>
<tr class="separator:a746ed453e6fded608bee4a5a28474f32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0828c7f49ecb6cb4284d96758f8f179"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_mailbox.html#ae0828c7f49ecb6cb4284d96758f8f179">size</a> ()</td></tr>
<tr class="memdesc:ae0828c7f49ecb6cb4284d96758f8f179"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_j_mailbox.html#ae0828c7f49ecb6cb4284d96758f8f179" title="size() counts the number of items in the queue across all domains This should be used sparingly becau...">size()</a> counts the number of items in the queue across all domains This should be used sparingly because it will mess up a bunch of caches.  <a href="#ae0828c7f49ecb6cb4284d96758f8f179">More...</a><br/></td></tr>
<tr class="separator:ae0828c7f49ecb6cb4284d96758f8f179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb5cf4268cea3ae86c692eee655d832e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adb5cf4268cea3ae86c692eee655d832e"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_mailbox.html#adb5cf4268cea3ae86c692eee655d832e">size</a> (size_t domain)</td></tr>
<tr class="memdesc:adb5cf4268cea3ae86c692eee655d832e"><td class="mdescLeft">&#160;</td><td class="mdescRight">size(domain) counts the number of items in the queue for a particular domain Meant to be used by Scheduler::next_assignment() and measure_perf(), eventually <br/></td></tr>
<tr class="separator:adb5cf4268cea3ae86c692eee655d832e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48f72f1aaf0806855fd3d9c7caf34f72"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_mailbox.html#a48f72f1aaf0806855fd3d9c7caf34f72">reserve</a> (size_t requested_count, size_t domain=0)</td></tr>
<tr class="memdesc:a48f72f1aaf0806855fd3d9c7caf34f72"><td class="mdescLeft">&#160;</td><td class="mdescRight">reserve(requested_count) keeps our queues bounded in size.  <a href="#a48f72f1aaf0806855fd3d9c7caf34f72">More...</a><br/></td></tr>
<tr class="separator:a48f72f1aaf0806855fd3d9c7caf34f72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16ec050066a0c715aca6fc4d5ac711cb"><td class="memItemLeft" align="right" valign="top">Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_mailbox.html#a16ec050066a0c715aca6fc4d5ac711cb">push</a> (std::vector&lt; T &gt; &amp;buffer, size_t reserved_count=0, size_t domain=0)</td></tr>
<tr class="memdesc:a16ec050066a0c715aca6fc4d5ac711cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">push(items, reserved_count, domain) This function will always succeed, although it may exceed the threshold if the caller didn't reserve space, and it may take a long time because it will wait on a mutex.  <a href="#a16ec050066a0c715aca6fc4d5ac711cb">More...</a><br/></td></tr>
<tr class="separator:a16ec050066a0c715aca6fc4d5ac711cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a229fc43cf7241bd17a542a09fb9f6632"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a229fc43cf7241bd17a542a09fb9f6632"></a>
Status&#160;</td><td class="memItemRight" valign="bottom"><b>push</b> (T &amp;item, size_t reserved_count=0, size_t domain=0)</td></tr>
<tr class="separator:a229fc43cf7241bd17a542a09fb9f6632"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ab96f7f62a0c72f243f77ac26651a90"><td class="memItemLeft" align="right" valign="top">Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_mailbox.html#a9ab96f7f62a0c72f243f77ac26651a90">pop</a> (std::vector&lt; T &gt; &amp;buffer, size_t requested_count, size_t location_id=0)</td></tr>
<tr class="memdesc:a9ab96f7f62a0c72f243f77ac26651a90"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_j_mailbox.html#a9ab96f7f62a0c72f243f77ac26651a90" title="pop() will pop up to requested_count items for the desired domain. ">pop()</a> will pop up to requested_count items for the desired domain.  <a href="#a9ab96f7f62a0c72f243f77ac26651a90">More...</a><br/></td></tr>
<tr class="separator:a9ab96f7f62a0c72f243f77ac26651a90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8a83beb335bb288476f7596f9a47c5c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af8a83beb335bb288476f7596f9a47c5c"></a>
Status&#160;</td><td class="memItemRight" valign="bottom"><b>pop</b> (T &amp;item, bool &amp;success, size_t location_id=0)</td></tr>
<tr class="separator:af8a83beb335bb288476f7596f9a47c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a060429a971bf8f55ba74b91a41063b02"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a060429a971bf8f55ba74b91a41063b02"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>get_threshold</b> ()</td></tr>
<tr class="separator:a060429a971bf8f55ba74b91a41063b02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7f31f66b2e855141a29d03a08e5fa8a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab7f31f66b2e855141a29d03a08e5fa8a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_threshold</b> (size_t threshold)</td></tr>
<tr class="separator:ab7f31f66b2e855141a29d03a08e5fa8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_j_activable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_j_activable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_j_activable.html">JActivable</a></td></tr>
<tr class="memitem:a6f9be136ba69ca1bb0caab8df581740f inherit pub_methods_class_j_activable"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6f9be136ba69ca1bb0caab8df581740f"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_active</b> ()</td></tr>
<tr class="separator:a6f9be136ba69ca1bb0caab8df581740f inherit pub_methods_class_j_activable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac397d8bce6bef5b56bbfb06b16963ec inherit pub_methods_class_j_activable"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac397d8bce6bef5b56bbfb06b16963ec"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>set_active</b> (bool is_active)</td></tr>
<tr class="separator:aac397d8bce6bef5b56bbfb06b16963ec inherit pub_methods_class_j_activable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20c9dcf621a4802cb74fec62f1fb41b9 inherit pub_methods_class_j_activable"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a20c9dcf621a4802cb74fec62f1fb41b9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>update_activeness</b> (bool is_active)</td></tr>
<tr class="separator:a20c9dcf621a4802cb74fec62f1fb41b9 inherit pub_methods_class_j_activable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ac7ee865b5a4868f9eef1bcffdb65bf inherit pub_methods_class_j_activable"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9ac7ee865b5a4868f9eef1bcffdb65bf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>notify_downstream</b> (bool is_active)</td></tr>
<tr class="separator:a9ac7ee865b5a4868f9eef1bcffdb65bf inherit pub_methods_class_j_activable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a883a72ad3f882062df6a15d825d68d04 inherit pub_methods_class_j_activable"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a883a72ad3f882062df6a15d825d68d04"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>attach_upstream</b> (<a class="el" href="class_j_activable.html">JActivable</a> *activable)</td></tr>
<tr class="separator:a883a72ad3f882062df6a15d825d68d04 inherit pub_methods_class_j_activable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafd749449dd9eca27583d9b5da836411 inherit pub_methods_class_j_activable"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aafd749449dd9eca27583d9b5da836411"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>attach_downstream</b> (<a class="el" href="class_j_activable.html">JActivable</a> *activable)</td></tr>
<tr class="separator:aafd749449dd9eca27583d9b5da836411 inherit pub_methods_class_j_activable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ad2134cf83f8a9fdb0220ba9cc47fc32b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad2134cf83f8a9fdb0220ba9cc47fc32b"></a>
std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator&lt;&lt;</b> (std::ostream &amp;os, const Status &amp;s)</td></tr>
<tr class="separator:ad2134cf83f8a9fdb0220ba9cc47fc32b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_class_j_activable"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_class_j_activable')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="class_j_activable.html">JActivable</a></td></tr>
<tr class="memitem:ac0484fc214e35aff8fec273c597baa5d inherit pro_attribs_class_j_activable"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac0484fc214e35aff8fec273c597baa5d"></a>
Status&#160;</td><td class="memItemRight" valign="bottom"><b>_status</b> = Status::Unopened</td></tr>
<tr class="separator:ac0484fc214e35aff8fec273c597baa5d inherit pro_attribs_class_j_activable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a9ab96f7f62a0c72f243f77ac26651a90"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Status <a class="el" href="class_j_mailbox.html">JMailbox</a>&lt; T &gt;::pop </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>requested_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>location_id</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="class_j_mailbox.html#a9ab96f7f62a0c72f243f77ac26651a90" title="pop() will pop up to requested_count items for the desired domain. ">pop()</a> will pop up to requested_count items for the desired domain. </p>
<p>If many threads are contending for the queue, this will fail with Status::Contention, in which case the caller should probably consult the Scheduler. </p>

</div>
</div>
<a class="anchor" id="a16ec050066a0c715aca6fc4d5ac711cb"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Status <a class="el" href="class_j_mailbox.html">JMailbox</a>&lt; T &gt;::push </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>reserved_count</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>domain</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>push(items, reserved_count, domain) This function will always succeed, although it may exceed the threshold if the caller didn't reserve space, and it may take a long time because it will wait on a mutex. </p>
<p>Note that if the caller had called <a class="el" href="class_j_mailbox.html#a48f72f1aaf0806855fd3d9c7caf34f72" title="reserve(requested_count) keeps our queues bounded in size. ">reserve()</a>, they must pass in the reserved_count here. </p>

</div>
</div>
<a class="anchor" id="a48f72f1aaf0806855fd3d9c7caf34f72"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="class_j_mailbox.html">JMailbox</a>&lt; T &gt;::reserve </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>requested_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>domain</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>reserve(requested_count) keeps our queues bounded in size. </p>
<p>The caller should reserve their desired chunk size on the output queue first. The output queue will return a reservation which is less than or equal to requested_count. The caller may then request as many items from the input queue as have been reserved on the output queue. Note that because the input queue may return fewer items than requested, the caller must push their original reserved_count alongside the items, to avoid a "reservation leak". </p>

</div>
</div>
<a class="anchor" id="ae0828c7f49ecb6cb4284d96758f8f179"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="class_j_mailbox.html">JMailbox</a>&lt; T &gt;::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="class_j_mailbox.html#ae0828c7f49ecb6cb4284d96758f8f179" title="size() counts the number of items in the queue across all domains This should be used sparingly becau...">size()</a> counts the number of items in the queue across all domains This should be used sparingly because it will mess up a bunch of caches. </p>
<p>Meant to be used by measure_perf() </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/lib/JANA/Engine/JMailbox.h</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_j_mailbox.html">JMailbox</a></li>
    <li class="footer">Generated on Thu Dec 5 2019 16:43:44 for JANA2 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
