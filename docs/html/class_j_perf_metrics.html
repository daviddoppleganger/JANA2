<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>JANA2: JPerfMetrics Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">JANA2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_j_perf_metrics.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_j_perf_metrics-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">JPerfMetrics Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="class_j_perf_metrics.html" title="JPerfMetrics represents the highest-level metrics we can collect from a running JProcessingTopology. ">JPerfMetrics</a> represents the highest-level metrics we can collect from a running JProcessingTopology.  
 <a href="class_j_perf_metrics.html#details">More...</a></p>

<p><code>#include &lt;JPerfMetrics.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ac4898615018e11631269d2c5b9cf4eed"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>Mode</b> { <br/>
&#160;&#160;<b>Reset</b>, 
<br/>
&#160;&#160;<b>Ticking</b>, 
<br/>
&#160;&#160;<b>Stopped</b>
<br/>
 }</td></tr>
<tr class="separator:ac4898615018e11631269d2c5b9cf4eed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a801a0ca87427f32de229c7f56c98511e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a801a0ca87427f32de229c7f56c98511e"></a>
Mode&#160;</td><td class="memItemRight" valign="bottom"><b>get_mode</b> ()</td></tr>
<tr class="separator:a801a0ca87427f32de229c7f56c98511e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a500dadabe264082f3a58a64ed7533502"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_perf_metrics.html#a500dadabe264082f3a58a64ed7533502">reset</a> ()</td></tr>
<tr class="memdesc:a500dadabe264082f3a58a64ed7533502"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset is meant to be called between separate run()s or scale()s.  <a href="#a500dadabe264082f3a58a64ed7533502">More...</a><br/></td></tr>
<tr class="separator:a500dadabe264082f3a58a64ed7533502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a404ef3d63bb279c683b7ab9091226dd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_perf_metrics.html#a404ef3d63bb279c683b7ab9091226dd9">start</a> (size_t current_thread_count)</td></tr>
<tr class="memdesc:a404ef3d63bb279c683b7ab9091226dd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This implementation of <a class="el" href="class_j_perf_metrics.html#a404ef3d63bb279c683b7ab9091226dd9" title="This implementation of start() assumes that no processing has occurred while the stopwatch wasn&#39;t run...">start()</a> assumes that no processing has occurred while the stopwatch wasn't running.  <a href="#a404ef3d63bb279c683b7ab9091226dd9">More...</a><br/></td></tr>
<tr class="separator:a404ef3d63bb279c683b7ab9091226dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa9d664f7cd406b84668102e31987237"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afa9d664f7cd406b84668102e31987237"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_perf_metrics.html#afa9d664f7cd406b84668102e31987237">start</a> (size_t current_event_count, size_t current_thread_count)</td></tr>
<tr class="memdesc:afa9d664f7cd406b84668102e31987237"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the preferred implementation of <a class="el" href="class_j_perf_metrics.html#a404ef3d63bb279c683b7ab9091226dd9" title="This implementation of start() assumes that no processing has occurred while the stopwatch wasn&#39;t run...">start()</a>, which doesn't make dangerous assumptions about nothing happening in the meantime. <br/></td></tr>
<tr class="separator:afa9d664f7cd406b84668102e31987237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33a6c772fe338d6dc9f222fd167899bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_perf_metrics.html#a33a6c772fe338d6dc9f222fd167899bb">split</a> (size_t current_event_count)</td></tr>
<tr class="memdesc:a33a6c772fe338d6dc9f222fd167899bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Split accumulates another (monotonic) event count measurement.  <a href="#a33a6c772fe338d6dc9f222fd167899bb">More...</a><br/></td></tr>
<tr class="separator:a33a6c772fe338d6dc9f222fd167899bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e15ac1ecd48efe2bd5f47b4f81df496"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_perf_metrics.html#a3e15ac1ecd48efe2bd5f47b4f81df496">stop</a> (size_t current_event_count)</td></tr>
<tr class="memdesc:a3e15ac1ecd48efe2bd5f47b4f81df496"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop, and record the final measurement at that time.  <a href="#a3e15ac1ecd48efe2bd5f47b4f81df496">More...</a><br/></td></tr>
<tr class="separator:a3e15ac1ecd48efe2bd5f47b4f81df496"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7522e80044327b6f68e6853e4e4be34e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_perf_metrics.html#a7522e80044327b6f68e6853e4e4be34e">stop</a> ()</td></tr>
<tr class="memdesc:a7522e80044327b6f68e6853e4e4be34e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop without recording a final measurement.  <a href="#a7522e80044327b6f68e6853e4e4be34e">More...</a><br/></td></tr>
<tr class="separator:a7522e80044327b6f68e6853e4e4be34e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8a46be3449803f8a46bf2056271155c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af8a46be3449803f8a46bf2056271155c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>summarize</b> (<a class="el" href="struct_j_perf_summary.html">JPerfSummary</a> &amp;summary)</td></tr>
<tr class="separator:af8a46be3449803f8a46bf2056271155c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_j_perf_metrics.html" title="JPerfMetrics represents the highest-level metrics we can collect from a running JProcessingTopology. ">JPerfMetrics</a> represents the highest-level metrics we can collect from a running JProcessingTopology. </p>
<p>Conceptually, it resembles a stopwatch, which is meant to be reset when the thread count changes, started when processing starts, split every time a performance measurement should be made, and stopped when processing finished. At each interaction the caller provides the current event count. Timers are all managed internally. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a500dadabe264082f3a58a64ed7533502"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JPerfMetrics::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset is meant to be called between separate run()s or scale()s. </p>
<p>It sets everything in the metric back to zero or now(), except the start_event_count, which increases monotonically throughout the life of the program. </p>

</div>
</div>
<a class="anchor" id="a33a6c772fe338d6dc9f222fd167899bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JPerfMetrics::split </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>current_event_count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Split accumulates another (monotonic) event count measurement. </p>
<p>If the stopwatch has already been stopped, split will update the event count without updating the time. This is convenient because we sometimes don't have access to the current event count but still wish to stop the timer, but it is dangerous because it makes the caller responsible for ensuring that further events don't get processed after the stopwatch stops. </p>

</div>
</div>
<a class="anchor" id="a404ef3d63bb279c683b7ab9091226dd9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JPerfMetrics::start </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>current_thread_count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This implementation of <a class="el" href="class_j_perf_metrics.html#a404ef3d63bb279c683b7ab9091226dd9" title="This implementation of start() assumes that no processing has occurred while the stopwatch wasn&#39;t run...">start()</a> assumes that no processing has occurred while the stopwatch wasn't running. </p>
<p>Thus it can reuse the event count from the previous run. This is convenient because that value can be annoying to calculate. </p>

</div>
</div>
<a class="anchor" id="a3e15ac1ecd48efe2bd5f47b4f81df496"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JPerfMetrics::stop </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>current_event_count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop, and record the final measurement at that time. </p>
<p>This should be used instead of <code>void <a class="el" href="class_j_perf_metrics.html#a7522e80044327b6f68e6853e4e4be34e" title="Stop without recording a final measurement. ">stop()</a></code> whenever possible. </p>

</div>
</div>
<a class="anchor" id="a7522e80044327b6f68e6853e4e4be34e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JPerfMetrics::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop without recording a final measurement. </p>
<p>This can be provided in a later call to <a class="el" href="class_j_perf_metrics.html#a33a6c772fe338d6dc9f222fd167899bb" title="Split accumulates another (monotonic) event count measurement. ">split()</a>. <code>void stop(current_event_count)</code> is preferred. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/lib/JANA/Status/JPerfMetrics.h</li>
<li>src/lib/JANA/Status/JPerfMetrics.cc</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_j_perf_metrics.html">JPerfMetrics</a></li>
    <li class="footer">Generated on Thu Dec 5 2019 16:43:44 for JANA2 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
